<?xml version="1.0" encoding="utf-8"?>
<html>
    <head><title mt-export-translate="no">HR Toolkit - Group/Group Type Model</title>
        
        <meta name="mt-type" value="application/x.deki-text" />
        <meta name="mt-unsafe" value="true" />
    </head>
    <body>
        <h1 class="mt-export-title">HR Toolkit - Group/Group Type Model</h1>
        <p class="mt-script-comment">Page summary display</p> <pre class="script" mt-export-translate="no" xml:space="preserve">
template('MindTouch/Controls/PageOverview');
</pre> <pre class="script-css" mt-export-translate="no" xml:space="preserve">
.columbia-article-topic #mt-toc-container {
    display:block !important; 
}
#mt-toc-container {
    display: block !important;
}

</pre> <h2><a name="_Toc396809356"></a><a name="_Obtaining_the_HR"></a>Obtaining the HR Toolkit Components</h2> <p>Please contact your Professional Services Consultant to obtain the following components:</p> <ul> <li><strong>HRTK Staging DB Install G_GT_WU.sql</strong> – SQL file required to create the staging database - <em>EMS_Staging</em>.</li> <li><strong>HRTK Update Script G_GT_WU.sql</strong> – SQL file required to create the stored procedure <em>HRTK_ Update_Group</em> within your EMS database.</li> <li><strong>EMS HR Toolkit LDAP Loader.exe </strong>- Application required to query the LDAP directory.</li>
</ul> <h2>HR Toolkit with LDAP Query Tool Overview</h2> <h3>The LDAP Query Tool</h3> <p>The EMS HR Toolkit LDAP Loader is used to retrieve data by querying the LDAP to load data&#160;into the <em>EMS_Staging</em> database.</p> <p>LDAP specific details, such as a username, password,&#160;server and port information are needed to access the LDAP Directory. Also, a query to pull active user data from the LDAP Directory needs to be added.</p> <p style="text-align: center;"><img alt="" class="internal default" style="width: 700px;height: 549px;" width="700px" height="549px" /></p> <p>Under the Attribute Mapping tab, add the LDAP attributes that you would like to be pulled into EMS by the associated EMS data field.</p> <p style="text-align: center;"><br />
<span style="font-size: 10px;"><img alt="" class="internal default" style="width: 700px;height: 546px;" width="700px" height="546px" /></span></p> <h3>The EMS_Staging Database</h3> <p>The <em>EMS_Staging</em> database (created by <strong>HRTK Staging DB Install G_GT_WU.sql</strong>) is used to stage Group and Web User records before they are imported into EMS.&#160;</p> <p><strong>Note</strong>: your EMS database may have the “Groups” field renamed to another term.</p> <p>The LDAP Query Tool will query the LDAP in order to create&#160;<strong>ACTIVE</strong> Group records into the <em>tblPeople</em> table within <em>EMS_Staging</em>.</p> <p align="center"><img alt="" class="internal" style="width: 385px;height: 441px;" width="385px" height="441px" /></p> <h3>Maintaining Group Records in EMS</h3> <p>The <em>HRTK_Update_Group</em> stored procedure (created by <strong>HRTK Update Script G_GT_WU.sql</strong>) contains all of the logic to create your EMS Group and Web User data.&#160;Records are imported into EMS from the <em>EMS_Staging</em> database according to the specifications outlined in the following table:</p> <table border="0" cellpadding="0" cellspacing="0" class="emstable" style="width: 701px;"> <thead> <tr> <th nowrap="nowrap" scope="col" style="width: 147px;height: 24px;"> <p><strong><span><span>EMS Staging Field (varchar)</span></span></strong></p>  </th> <th scope="col" style="width: 16px;height: 24px;"> <p>&#160;</p>  </th> <th nowrap="nowrap" scope="col" style="width: 215px;height: 24px;"> <p><strong><span><span><span>Writes Data to EMS Database Fields</span></span></span></strong></p>  </th> <th scope="col" style="width: 324px;height: 24px;"> <p><strong><span><span>Requirements/Notes</span></span></strong></p>  </th>  </tr>  </thead> <tbody> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>PersonnelNumber </span></span></strong><span><span>(20)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.ExternalReference</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><strong><span><span>Required</span></span></strong>    <span><span>Unique identifier (e.g. Employee/Student ID, Personnel Number, etc.) for each web user.&#160; Used for purposes of creating /updating EMS.</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>FirstName </span></span></strong><span><span>&#160;(50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.GroupName</span></span></p> <p><span><span>WebUser.UserName</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>Must have at least 1 of 3. </span></span><span><span>Built in EMS as LastName, FirstName Middle Initial</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>LastName </span></span></strong><span><span>&#160;(50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.GroupName</span></span></p> <p><span><span>WebUser.UserName</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>Must have at least 1 of 3. </span></span><span><span>Built in EMS as LastName, FirstName Middle Initial</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>Title</span></span></strong><span><span> (50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Contact.Title</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>can be null</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>MiddleInitial</span></span></strong><span><span> (10)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.Group Name</span></span></p> <p><span><span>WebUser.UserName</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>Must have at least 1 of 3. </span></span><span><span>Built in EMS as LastName, FirstName Middle Initial</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>EMailAddress</span></span></strong><span><span> (75)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.EmailAddress</span></span></p> <p><span><span>WebUser.EmailAddress</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><strong><span><span>Required</span></span></strong><span><span> for Web User creation</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>Phone</span></span></strong><span><span> (50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.Phone</span></span></p> <p><span><span>WebUser.Phone</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>can be null</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>Fax</span></span></strong><span><span> (50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.Fax</span></span></p> <p><span><span>WebUser.Fax</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>can be null</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>Address1</span></span></strong><span><span> (50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.Address1</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>can be null</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>Address2</span></span></strong><span><span> (50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.Address2</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>can be null</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>City</span></span></strong><span><span> (50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.City</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>can be null</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>State</span></span></strong><span><span> (50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.State</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>can be null</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>ZipCode</span></span></strong><span><span> (10)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.ZipCode</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>can be null</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>Country</span></span></strong><span><span> (50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.Country</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>can be null</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>NetworkID</span></span></strong><span><span> (50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>Group.NetworkID</span></span></p> <p><span><span>WebUser.NetworkID</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><strong><span><span>Required</span></span></strong><span><span> for Integrated Authentication</span></span></p>  </td>  </tr> <tr> <td nowrap="nowrap" style="width: 147px;height: 19px;"> <p><strong><span><span>GroupType</span></span></strong><span><span> (50)</span></span></p>  </td> <td style="width: 16px;height: 19px;"> <p>&#160;</p>  </td> <td nowrap="nowrap" style="width: 215px;height: 19px;"> <p><span><span>GroupType.Description <em>if unique</em> Group.GrouptypeID</span></span></p>  </td> <td style="width: 324px;height: 19px;"> <p><span><span>Required for assignment of Group Type to groups. </span>Will assign GroupType of (None) when left blank or null.</span></p>  </td>  </tr>  </tbody>
</table> <p>EMS uses the <em>PersonnelNumber</em> field in <em>EMS_Staging.tblPeople</em> and the <em>tblGroup.ExternalReference</em> and <em>tblWebUser.ExternalReference</em> fields in the EMS database to determine whether a record needs to be added, updated, or inactivated.&#160;</p> <p>Group and/or Web User records within EMS with an empty External Reference field are excluded from processing.&#160;Therefore, Groups that are not included in your data feed (e.g. contractors, temporary employees, etc.) can be added and maintained manually within EMS and will not impacted by the HR Toolkit.</p> <p><strong>Important Note:</strong>&#160; Existing EMS clients must ‘synchronize’ existing EMS Group and/or Web User records before activating the HR Toolkit by adding a valid <em>PersonnelNumber</em> value in <em>tblGroup.ExternalReference</em> and <em>tblWebUser.ExternalReference</em>.&#160;<strong><u>Ignoring this step will result in duplicate records</u></strong>.&#160;</p> <h4>Group Type Records</h4> <p>Unique GroupTypes in <em>EMS_Staging.tblPeople </em>are added to the Group Types table in EMS (<em>EMS.tblGroupType</em>). Group Types are not updated or inactivated.</p> <h4>New Group Records</h4> <p>If <em>PersonnelNumber</em> in <em>EMS_Staging.tblPeople</em> is not found to be associated with&#160;a Group record in EMS, a Group and Web User account will be created for that record.</p> <p>In addition to creating a new Web User record, this process also automatically assigns the Group to the Web User record.&#160;This allows a Web User to make a reservation using their Group record within Virtual EMS.&#160;</p> <p>Various configuration settings are available to automatically assign the appropriate Web Process Template(s) when a user hits your Virtual EMS site for the first time.&#160; Within the Virtual EMS Parameters area of EMS (<em>System Administration &gt; Settings &gt; Parameters (Virtual tab)</em>), the following parameters must be set accordingly to activate this feature:</p> <p><strong>Note:</strong>&#160; Ignore the “Auto Creates…” and “Security Status…” parameters if your HR Toolkit was customized to automatically assign Web Process Templates to Web Users.</p> <table border="1" cellpadding="0" cellspacing="0" class="emstable"> <thead> <tr> <th scope="col" style="width: 163px;"> <p><strong>Area</strong></p>  </th> <th scope="col" style="width: 348px;"> <p><strong>Description</strong></p>  </th> <th scope="col" style="width: 127px;"> <p><strong>Value</strong></p>  </th>  </tr>  </thead> <tbody> <tr> <td style="width: 163px;"> <p>Account Management</p> <p>&#160;</p>  </td> <td style="width: 348px;"> <p>Auto Creates Web Users During Integrated Authentication</p>  </td> <td style="width: 127px;"> <p>Yes</p> <p>&#160;</p>  </td>  </tr> <tr> <td style="width: 163px;"> <p>Account Management</p> <p>&#160;</p>  </td> <td style="width: 348px;"> <p>Default Security Template for User</p> <p>&#160;</p>  </td> <td style="width: 127px;"> <p><em>Must be specified</em></p> <p>&#160;</p>  </td>  </tr> <tr> <td style="width: 163px;"> <p>Account Management</p> <p>&#160;</p>  </td> <td style="width: 348px;"> <p>Security Status for User</p> <p>&#160;</p>  </td> <td style="width: 127px;"> <p>Active</p> <p>&#160;</p>  </td>  </tr>  </tbody>
</table> <p>To automatically assign a Web Process Template to new Web Users, select the ‘<strong><em>Available to New Web Users</em></strong>’ option within your Web Process Template(s) (<em>Configuration &gt; Web &gt; Web Process Templates</em>).</p> <h4>Updates to Existing Group Records</h4> <p>If <em>PersonnelNumber</em> in <em>EMS_Staging.tblPeople</em> is found in EMS, existing Group, Web User and Contact records will updated with any changes.</p> <h4>Inactive Group Records</h4> <p>If <em>PersonnelNumber</em> in EMS is not found on a record in <em>EMS_Staging.tblPeople</em>, the Group and Web User record in EMS will be inactivated.</p> <h3>Installation</h3> <p>The followings steps should be performed on the MS SQL Server that hosts your EMS database.</p> <ol> <li>Obtain the SQL files outlined in the section above.</li> <li>Using <em>Microsoft SQL Server Management Studio</em> execute the <strong>HRTK Staging DB Install G_GT_WU.sql</strong> script against your <strong>master</strong> database.&#160; This will create the <em>EMS_Staging</em> database containing one table named <em>tblPeople</em>.</li> <li>Using <em>Microsoft SQL Server Management Studio</em> execute the <strong>HRTK Update Script G_GT_WU.sql</strong> script against your <strong>EMS</strong> database.&#160; This will create a stored procedure in your EMS database named <em>HRTK_Update_Group</em><strong>.&#160; </strong></li>
</ol> <h3>Execution</h3> <ol> <li>Import <strong>ACTIVE</strong> records from your organization’s data source into the <em>tblPeople</em> table within the <em>EMS_Staging</em> database by utilizing the LDAP Query Tool.</li> <li><strong>For current EMS clients only</strong>:&#160; Ensure that existing Group and/or Web User records have been ‘synchronized’ as outlined above.</li> <li>Using <em>Microsoft SQL Server Management Studio</em> execute the <em>HRTK_Update_Group</em> stored procedure.</li>
</ol> <p><strong>Note:</strong>&#160; Step 3 can be scheduled to execute automatically using a SQL Job.&#160; Please refer to your MS SQL Server documentation for more information on creating and scheduling a SQL Job. This is <strong>NOT</strong> an EMS managed process, unless your environment is hosted in the EMS Cloud.</p>
<hr class="mt-export-separator" /><p class="template:tag-insert"><strong>Page tags: </strong><a mt-export-translate="no">article:topic</a><a>Install</a><a>HR Toolkit</a><a mt-export-translate="no">persona:SysAdmin</a><a>HR Toolkit Install</a><a>HR Toolkit Group/Group Type Model</a><a>singlesource</a><a>revisedjan</a></p></body>
</html>