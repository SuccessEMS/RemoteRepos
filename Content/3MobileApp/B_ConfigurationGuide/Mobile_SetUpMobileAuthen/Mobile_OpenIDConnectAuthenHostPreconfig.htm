<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" MadCap:lastBlockDepth="2" MadCap:lastHeight="1104" MadCap:lastWidth="1031">
    <head><title></title>
    </head>
    <body>
        <h1>Open ID Connect Authentication&#160;<MadCap:annotation MadCap:createDate="2017-10-24T15:19:22.7761946-06:00" MadCap:creator="Megan.Laub" MadCap:initials="ME" MadCap:comment="This topic is not listed in the MindTouch guide for Mobile Install/Config. Need to determine if topic should be included in documentation or archived." MadCap:editor="Megan.Laub" MadCap:editDate="2017-10-24T15:19:23.6080712-06:00">Can</MadCap:annotation> Be&#160;Hosted or Pre-Configured in the EMS Mobile App</h1>
        <p>&#160;</p>
        <p><span class="Strong">Concept:</span>&#160;Open ID Connect Authentication&#160;Can Be&#160;Hosted or Pre-Configured in EMS Mobile App:<br />&#160;</p>
        <p><span class="Strong">Hosted Configuration:&#160;</span>The configuration can be hosted at a URL available to end users.&#160;The user will then enter that URL into the application. EMS Mobile App will download and use that information, and kick off the authentication process. When configured this way, users will launch the EMS Mobile App and see the EMS Server URL screen. Instead of entering an&#160;EMS Server URL, the user will&#160;tap&#160;<span class="Strong">About</span>&#160;near the bottom right of the screen and select the&#160;option to&#160;<span class="Strong">Import SSO Configuration</span>. The user will then tap&#160;<span class="Strong">Import</span>&#160;Mobile app, which will direct the user to enter the&#160;<span class="Strong">Configuration URL.</span>&#160;Then the user will tap&#160;<span class="Strong">Import</span>.<br /><br /><span class="Strong">Pre-Configured In EMS Mobile App</span>: The configuration can be&#160;"baked" into the application.&#160;This requires&#160;<a href="https://success.emssoftware.com/?title=Installation_%26_Setup_Guides/EMS_Mobile_App/Installing_and_Setting_Up_the_EMS_Mobile_App/007_Deploying_the_EMS_Mobile_App/Configuring_and_Re-Signing_the_EMS_Mobile_App_(Private_Deployment_Only)" title="Configuring and Resigning {{product_mobile}}"><span class="Hyperlink_1">re-signing</span></a>, hosting, and re-distributing the EMS Mobile App within your organization.&#160;With a pre-configured EMS Mobile App, users do not need&#160;to import any Open ID configuration details.{{product_mobile)&#160;will launch with that configuration and use it directly.</p>
        <h2 class="Heading2">How Users Authenticate After&#160;Configuration&#160;</h2>
        <p>Assuming successful import of the configuration data, the authentication flow can now begin: {{product_webapp}} will show the user the Open ID authorization web page &#160;(this happens in a web view inside the {{product_mobile}}; user may briefly see a busy indicator while the page loads). User will authenticate with the Open ID authorization view.&#160;The user plays no part in these next steps, which describe the completion of the Open ID flow. The user may simply see the screen change during this process. Successful authentication will redirect the user back to {{product_webapp}}. {{product_webapp}} will resume the Open ID authentication process and retrieve and&#160;<span class="mt-font-size-110pt">access_token</span>&#160;from the identity provider, and will then&#160;forward the&#160;<span class="mt-font-size-110pt">access_token</span>&#160;to the&#160;<a href="https://success.emssoftware.com/?title=Installation_%26_Setup_Guides/EMS_Mobile_App/Installing_and_Setting_Up_the_EMS_Mobile_App/Using_the_EMS_Platform_Services/Installing_the_EMS_Platform_Services" title="Installing the EMS Platform Services API"><span class="Hyperlink_1">EMS Platform Services</span></a>&#160;API. EMS Platform Services API will verify the&#160;<span class="mt-font-size-110pt">access_token</span>&#160;by making a&#160;<span class="mt-font-size-110pt">userinfo</span>&#160;request per the Open ID specification. EMS Platform Services API will authenticate the user by matching the login&#160;<span class="mt-font-size-110pt">email</span>&#160;field (if provided) to an Everyday User in the EMS database.&#160;If there is no&#160;<span class="mt-font-size-110pt">email</span>&#160;field in the response, the API will try to match the response's&#160;<span class="mt-font-size-110pt">sub</span>&#160;field to an Everyday User.&#160;<a href="https://success.emssoftware.com/?title=Installation_%26_Setup_Guides/EMS_Mobile_App/Installing_and_Setting_Up_the_EMS_Mobile_App/Using_the_EMS_Platform_Services/Installing_the_EMS_Platform_Services" title="Installing the EMS Platform Services API"><span class="Hyperlink_1">EMS Platform Services API</span></a>&#160;will respond to {{product_mobile}}. Once&#160;Open ID workflow above has successfully completed,&#160;{{product_webapp}} will direct the user to the&#160;<span class="Strong">Home</span>&#160;screen.&#160;If the EMS Platform Services API is unable to verify the credentials, {{product_mobile}}&#160;will inform the user based on that response.</p>
        <h2 class="Heading2">How the Identity Provider (IdP) Works&#160;</h2>
        <p class="NormalWeb_1">The Identity Provider (IdP) handles the input and verification of end user credentials. It also issues and verifies tokens.&#160;The {{product_mobile}} must be registered with the IdP. The&#160;<span class="mt-font-size-110pt">client_id</span>&#160;generated by this registration is required information for the configuration used by the {{product_mobile}} and the Open ID flow.</p>
        <h2 class="Heading2">How the EMS Platform Services API Works&#160;<a href="https://success.emssoftware.com/?title=Installation_%26_Setup_Guides/EMS_Mobile_App/Installing_and_Setting_Up_the_EMS_Mobile_App/008_Setting_Up_EMS_Mobile_Authentication/Open_ID_Connect_Authentication/Open_ID_Connect_Authentication_Can_Be_Hosted_or_Pre-Configured_in_%7B%7Bproduct_mobile%7D%7D:" title="Edit section" class="a_1"><img src="../../../Resources/Images/Mobile_Authentication/Open ID Connect Authentication.gif" style="height: 16px;width: 16px;" alt="Edit section" class="img_1" /></a></h2>
        <p>The&#160;<a href="https://success.emssoftware.com/?title=Installation_%26_Setup_Guides/EMS_Mobile_App/Installing_and_Setting_Up_the_EMS_Mobile_App/Using_the_EMS_Platform_Services/Installing_the_EMS_Platform_Services" title="Installing the EMS Platform Services API"><span class="Hyperlink_1">EMS Platform Services</span></a>&#160;API receives the&#160;<span class="mt-font-size-110pt">access_token</span>&#160;from the {{product_mobile}}. The token is then sent to the&#160;<span class="mt-font-size-110pt">userinfo</span>&#160;endpoint for verification. The response from the&#160;<span class="mt-font-size-110pt">userinfo</span>endpoint is used to find a user in the EMS database. The API will then respond to the {{product_mobile}}&#160;based on the results of this process.</p>
    </body>
</html>