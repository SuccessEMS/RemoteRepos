<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" MadCap:lastBlockDepth="6" MadCap:lastHeight="3744" MadCap:lastWidth="810">
    <head><title></title>
        <link href="../../../Resources/Stylesheets/HRToolkitV44.css" rel="stylesheet" />
    </head>
    <body>
        <h1>HR Toolkit - Group/Group Type Model</h1>
        <h2>Obtaining the HR Toolkit Components&#160;</h2>
        <p>Please contact your Professional Services Consultant to obtain the following components:</p>
        <ul style="list-style-type: disc;margin-left: 36pt;">
            <li>HRTK Staging DB Install G_GT_WU.sql&#160;– SQL file required to create the staging database -&#160;EMS_Staging.</li>
            <li>HRTK Update Script G_GT_WU.sql&#160;– SQL file required to create the stored procedure&#160;HRTK_ Update_Group&#160;within your EMS database.</li>
        </ul>
        <h2>HR Toolkit Overview&#160;</h2>
        <h3>The EMS_Staging Database&#160;</h3>
        <p>The&#160;EMS_Staging&#160;database (created by&#160;HRTK Staging DB Install G_GT_WU.sql) is used to stage Group and Web User records before they are imported into EMS.&#160;</p>
        <p>Note: your EMS database may have the “Groups” field renamed to another term.</p>
        <p>Once you have identified the data source within your organization that will be used to create and maintain your EMS Group and Web User records, you will be required to define/create a process to import&#160;ACTIVE&#160;Group records into the&#160;tblPeople&#160;table within&#160;EMS_Staging.</p>
        <p>
            <img src="Images_HRT_V44/HR Toolkit Group Group Type.png" style="visibility: visible;mso-wrap-style: square;width: 385px;height: 441px;" alt="https://success.emssoftware.com/@api/deki/files/121/image_26.png?revision=1&amp;size=bestfit&amp;width=385&amp;height=441" />
        </p>
        <h3>Maintaining Group Records in EMS&#160;</h3>
        <p>The&#160;HRTK_Update_Group&#160;stored procedure (created by&#160;HRTK Update Script G_GT_WU.sql) contains all of the logic to create your EMS Group and Web User data.&#160;Records are imported into EMS from the&#160;EMS_Staging&#160;database according to the specifications outlined in the following table:</p>
        <table>
            <thead>
                <tr>
                    <th>
                        <p>EMS Staging Field (varchar)</p>
                    </th>
                    <th>
                        <p>Writes Data to EMS Database Fields</p>
                    </th>
                    <th>
                        <p>Requirements/Notes</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <p>PersonnelNumber&#160;(20)</p>
                    </td>
                    <td>
                        <p>Group.ExternalReference</p>
                    </td>
                    <td>
                        <p>Required&#160;Unique identifier (e.g. Employee/Student ID, Personnel Number, etc.) for each web user.&#160; Used for purposes of creating /updating EMS.</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>FirstName&#160;&#160;(50)</p>
                    </td>
                    <td>
                        <p>Group.GroupName</p>
                        <p>WebUser.UserName</p>
                    </td>
                    <td>
                        <p>Must have at least 1 of 3.&#160;Built in EMS as LastName, FirstName Middle Initial</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>LastName&#160;&#160;(50)</p>
                    </td>
                    <td>
                        <p>Group.GroupName</p>
                        <p>WebUser.UserName</p>
                    </td>
                    <td>
                        <p>Must have at least 1 of 3.&#160;Built in EMS as LastName, FirstName Middle Initial</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Title&#160;(50)</p>
                    </td>
                    <td>
                        <p>Contact.Title</p>
                    </td>
                    <td>
                        <p>can be null</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>MiddleInitial&#160;(10)</p>
                    </td>
                    <td>
                        <p>Group.Group Name</p>
                        <p>WebUser.UserName</p>
                    </td>
                    <td>
                        <p>Must have at least 1 of 3.&#160;Built in EMS as LastName, FirstName Middle Initial</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>EMailAddress&#160;(75)</p>
                    </td>
                    <td>
                        <p>Group.EmailAddress</p>
                        <p>WebUser.EmailAddress</p>
                    </td>
                    <td>
                        <p>Required&#160;for Web User creation</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Phone&#160;(50)</p>
                    </td>
                    <td>
                        <p>Group.Phone</p>
                        <p>WebUser.Phone</p>
                    </td>
                    <td>
                        <p>can be null</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Fax&#160;(50)</p>
                    </td>
                    <td>
                        <p>Group.Fax</p>
                        <p>WebUser.Fax</p>
                    </td>
                    <td>
                        <p>can be null</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Address1&#160;(50)</p>
                    </td>
                    <td>
                        <p>Group.Address1</p>
                    </td>
                    <td>
                        <p>can be null</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Address2&#160;(50)</p>
                    </td>
                    <td>
                        <p>Group.Address2</p>
                    </td>
                    <td>
                        <p>can be null</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>City&#160;(50)</p>
                    </td>
                    <td>
                        <p>Group.City</p>
                    </td>
                    <td>
                        <p>can be null</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>State&#160;(50)</p>
                    </td>
                    <td>
                        <p>Group.State</p>
                    </td>
                    <td>
                        <p>can be null</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>ZipCode&#160;(10)</p>
                    </td>
                    <td>
                        <p>Group.ZipCode</p>
                    </td>
                    <td>
                        <p>can be null</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Country&#160;(50)</p>
                    </td>
                    <td>
                        <p>Group.Country</p>
                    </td>
                    <td>
                        <p>can be null</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>NetworkID&#160;(50)</p>
                    </td>
                    <td>
                        <p>Group.NetworkID</p>
                        <p>WebUser.NetworkID</p>
                    </td>
                    <td>
                        <p>Required&#160;for Integrated Authentication</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>GroupType&#160;(50)</p>
                    </td>
                    <td>
                        <p>GroupType.Description&#160;if uniqueGroup.GrouptypeID</p>
                    </td>
                    <td>
                        <p>Required for assignment of Group Type to groups.&#160;Will assign GroupType of (None) when left blank or null.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>EMS uses the&#160;PersonnelNumber&#160;field in&#160;EMS_Staging.tblPeople&#160;and the&#160;tblGroup.ExternalReference&#160;and&#160;tblWebUser.ExternalReference&#160;fields in the EMS database to determine whether a record needs to be added, updated, or inactivated.&#160;</p>
        <p>Group and/or Web User records within EMS with an empty External Reference field are excluded from processing.&#160;Therefore, Groups that are not included in your data feed (e.g. contractors, temporary employees, etc.) can be added and maintained manually within EMS and will not impacted by the HR Toolkit.</p>
        <p>Important Note:&#160; Existing EMS clients must ‘synchronize’ existing EMS Group and/or Web User records before activating the HR Toolkit by adding a valid&#160;PersonnelNumber&#160;value in&#160;tblGroup.ExternalReference&#160;and&#160;tblWebUser.ExternalReference.&#160;Ignoring this step will result in duplicate records.&#160;</p>
        <h4>Group Type Records&#160;</h4>
        <p>Unique GroupTypes in&#160;EMS_Staging.tblPeople&#160;are added to the Group Types table in EMS (EMS.tblGroupType). Group Types are not updated or inactivated.</p>
        <h4>New Group Records&#160;</h4>
        <p>If&#160;PersonnelNumber&#160;in&#160;EMS_Staging.tblPeople&#160;is not found to be associated with&#160;a Group record in EMS, a Group and Web User account will be created for that record.</p>
        <p>In addition to creating a new Web User record, this process also automatically assigns the Group to the Web User record.&#160;This allows a Web User to make a reservation using their Group record within Virtual EMS.&#160;</p>
        <p>Various configuration settings are available to automatically assign the appropriate Web Process Template(s) when a user hits your Virtual EMS site for the first time.&#160; Within the Virtual EMS Parameters area of EMS (System Administration &gt; Settings &gt; Parameters (Virtual tab)), the following parameters must be set accordingly to activate this feature:</p>
        <p>Note:&#160; Ignore the “Auto Creates…” and “Security Status…” parameters if your HR Toolkit was customized to automatically assign Web Process Templates to Web Users.</p>
        <table>
            <thead>
                <tr>
                    <th>
                        <p>Area</p>
                    </th>
                    <th>
                        <p>Description</p>
                    </th>
                    <th>
                        <p>Value</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <p>Account Management</p>
                        <p>&#160;</p>
                    </td>
                    <td>
                        <p>Auto Creates Web Users During Integrated Authentication</p>
                    </td>
                    <td>
                        <p>Yes</p>
                        <p>&#160;</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Account Management</p>
                        <p>&#160;</p>
                    </td>
                    <td>
                        <p>Default Security Template for User</p>
                        <p>&#160;</p>
                    </td>
                    <td>
                        <p>Must be specified</p>
                        <p>&#160;</p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Account Management</p>
                        <p>&#160;</p>
                    </td>
                    <td>
                        <p>Security Status for User</p>
                        <p>&#160;</p>
                    </td>
                    <td>
                        <p>Active</p>
                        <p>&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>To automatically assign a Web Process Template to new Web Users, select the ‘Available to New Web Users’ option within your Web Process Template(s) (Configuration &gt; Web &gt; Web Process Templates).</p>
        <h4>Updates to Existing Group Records&#160;</h4>
        <p>If&#160;PersonnelNumber&#160;in&#160;EMS_Staging.tblPeople&#160;is found in EMS, existing Group, Web User and Contact records will updated with any changes.</p>
        <h4>Inactive Group Records</h4>
        <p>If&#160;PersonnelNumber&#160;in EMS is not found on a record in&#160;EMS_Staging.tblPeople, the Group and Web User record in EMS will be inactivated.</p>
        <h2>Installing and Executing the HR Toolkit&#160;</h2>
        <h3>Installation&#160;</h3>
        <p>The followings steps should be performed on the MS SQL Server that hosts your EMS database.</p>
        <ol style="list-style-type: decimal;margin-left: 36pt;" start="1">
            <li>Obtain the SQL files outlined in the section above.</li>
            <li>Using&#160;Microsoft SQL Server Management Studio&#160;execute the&#160;HRTK Staging DB Install G_GT_WU.sql&#160;script against your&#160;master&#160;database.&#160; This will create the&#160;EMS_Staging&#160;database containing one table named&#160;tblPeople.</li>
            <li>Using&#160;Microsoft SQL Server Management Studio&#160;execute the&#160;HRTK Update Script G_GT_WU.sql&#160;script against your&#160;EMS&#160;database.&#160; This will create a stored procedure in your EMS database named&#160;HRTK_Update_Group.&#160;</li>
        </ol>
        <h3>Execution&#160;</h3>
        <ol style="list-style-type: decimal;margin-left: 36pt;" start="1">
            <li>Import&#160;ACTIVE&#160;records from your organization’s data source into the&#160;tblPeople&#160;table within the&#160;EMS_Staging&#160;database.</li>
            <li>For current EMS clients only:&#160; Ensure that existing Group and/or Web User records have been ‘synchronized’ as outlined above.</li>
            <li>Using&#160;Microsoft SQL Server Management Studio&#160;execute the&#160;HRTK_Update_Group&#160;stored procedure.</li>
        </ol>
        <p>Note:&#160; Step 3 (and Step 1 with assistance from your IT Department) can be scheduled to execute automatically using a SQL Job.&#160; Please refer to your MS SQL Server documentation for more information on creating and scheduling a SQL Job. This is&#160;NOT&#160;an EMS managed process.</p>
    </body>
</html>